# =============================================================================
# Payment Gateway Reconciliation System - Environment Configuration
# =============================================================================
# Copy this file to .env and update with your values
# NEVER commit .env to version control
#
# Most variables have sensible defaults in the code (settings.py, auth/config.py).
# Only DATABASE_URL, CORS_ORIGINS, JWT_SECRET_KEY, and SMTP credentials are
# required â€” everything else is optional and shown here for reference.
# =============================================================================

# =============================================================================
# Application Configuration
# =============================================================================
APP_NAME=Payment Gateway Reconciliation API
APP_VERSION=2.0.0
# Enable debug mode (true/false)
DEBUG=false
# Options: development, staging, production
ENVIRONMENT=development
# Timezone (IANA format) - used by Python, Docker, and MySQL sessions
TZ=Africa/Nairobi

# =============================================================================
# Database Configuration (REQUIRED)
# =============================================================================
# MySQL connection string
DATABASE_URL=mysql+pymysql://username:password@localhost:3306/reconciler

# =============================================================================
# Storage Configuration
# =============================================================================
# Storage backend: 'local' or 'gcs' (Google Cloud Storage)
STORAGE_BACKEND=local
# Local storage path (relative to project root)
LOCAL_UPLOADS_PATH=uploads
# Google Cloud Storage settings (only needed if STORAGE_BACKEND=gcs)
GCS_BUCKET=your-bucket-name

# =============================================================================
# CORS Configuration (REQUIRED)
# =============================================================================
# Allowed origins as a JSON array
CORS_ORIGINS=["http://localhost:3000","http://127.0.0.1:3000"]

# =============================================================================
# JWT Authentication (SECRET KEY REQUIRED)
# =============================================================================
# Secret key for JWT token signing (minimum 32 characters)
# Generate with: openssl rand -hex 32
JWT_SECRET_KEY=change-this-in-production-generate-a-secure-random-key
# JWT signing algorithm
JWT_ALGORITHM=HS256
# Access token lifetime in minutes
ACCESS_TOKEN_EXPIRE_MINUTES=30
# Refresh token lifetime in hours
REFRESH_TOKEN_EXPIRE_HOURS=1

# =============================================================================
# SMTP Email Configuration (CREDENTIALS REQUIRED)
# =============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
SMTP_FROM_EMAIL=your-email@gmail.com
SMTP_FROM_NAME=Reconciler System
SMTP_USE_TLS=true

# =============================================================================
# Email Domain Restriction
# =============================================================================
# Restrict user creation to specific email domains (comma-separated)
# Leave empty to allow any email domain
ALLOWED_EMAIL_DOMAIN=gmail.com,myworkpay.com

# =============================================================================
# Account Security
# =============================================================================
# Maximum failed login attempts before account lockout
MAX_FAILED_LOGIN_ATTEMPTS=5
# Account lockout duration in minutes
ACCOUNT_LOCKOUT_MINUTES=15
# Password expiry in days (0 to disable)
PASSWORD_EXPIRY_DAYS=90
# Number of previous passwords to remember (prevent reuse)
PASSWORD_HISTORY_COUNT=5

# =============================================================================
# Password Policy
# =============================================================================
# Minimum password length
PASSWORD_MIN_LENGTH=8
# Require at least one uppercase letter
PASSWORD_REQUIRE_UPPERCASE=true
# Require at least one lowercase letter
PASSWORD_REQUIRE_LOWERCASE=true
# Require at least one digit
PASSWORD_REQUIRE_DIGIT=true
# Require at least one special character
PASSWORD_REQUIRE_SPECIAL=true

# =============================================================================
# Logging Configuration
# =============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
# In production, minimum level is ERROR regardless of this setting
LOG_LEVEL=DEBUG
# Log format: text or json (json recommended for production)
LOG_FORMAT=text
# Enable file logging
LOG_FILE_ENABLED=true
LOG_FILE_PATH=logs/app.log
# Max log file size in bytes (10MB)
LOG_FILE_MAX_BYTES=10485760
# Number of backup log files to keep
LOG_FILE_BACKUP_COUNT=5
# Log SQL queries (only enable for debugging, impacts performance)
LOG_SQL_QUERIES=false
# Log request bodies (security risk in production)
LOG_REQUEST_BODY=false
# Log response bodies
LOG_RESPONSE_BODY=false
